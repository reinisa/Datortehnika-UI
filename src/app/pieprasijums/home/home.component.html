<div class="container" style="margin-top: 20px; width: 100%;">
    <br>
    <h1 style="margin-left: 2%; color: black; text-align: left; font-weight: 500;">Datortehnikas pieprasīšanas sistēma</h1>
    <br>
    <h2 style="font-weight: 500; text-align: center; letter-spacing:0.1ch;">Pieprasījumu saraksts</h2>
    <mat-form-field style="margin-left: 2%;">
        <input matInput placeholder="Meklēt pieprasījumu" type="text">
    </mat-form-field>
    <button (click)="openDialog(p)" mat-flat-button style="width: 130px; height: 60px; float: right; margin-right: 2%;">Izveidot pieprasījumu</button>
    <br>
    <div class="data-container mat-elevation-z8" style="margin-left: 2%; margin-right: 2%;">
        <table mat-table [dataSource]="dataSource">
          
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef> ID </th>
            <td mat-cell *matCellDef="let pieprasijums"> {{ pieprasijums.id }} </td>
          </ng-container>
      
          <ng-container matColumnDef="tehnika">
            <th mat-header-cell *matHeaderCellDef> Tehnika </th>
            <td mat-cell *matCellDef="let pieprasijums"> {{ pieprasijums.tehnika?.nosaukums }} </td>
          </ng-container>
      
          <ng-container matColumnDef="datums">
            <th mat-header-cell *matHeaderCellDef> Reģistrācijas laiks </th>
            <td mat-cell *matCellDef="let pieprasijums"> {{ pieprasijums.datums }} </td>
          </ng-container>
      
          <ng-container matColumnDef="pamatojums">
            <th mat-header-cell *matHeaderCellDef> Pamatojums </th>
            <td mat-cell *matCellDef="let pieprasijums"> {{ pieprasijums.pamatojums }} </td>
          </ng-container>
      
          <ng-container matColumnDef="parametri">
            <th mat-header-cell *matHeaderCellDef> Parametri </th>
            <td mat-cell *matCellDef="let pieprasijums"> {{ pieprasijums.parametri }} </td>
          </ng-container>
      
          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef> Status </th>
            <td mat-cell *matCellDef="let pieprasijums"> {{ pieprasijums.status }} </td>
          </ng-container>

          <ng-container matColumnDef="apstiprinat">
            <th mat-header-cell *matHeaderCellDef> Apstiprināt</th>
            <td mat-cell *matCellDef="let pieprasijums"> <button (click)="changeStatus(pieprasijums, true)" mat-flat-button style="height: 27px; width: auto;">Apstiprināt</button> </td>
          </ng-container>

          <ng-container matColumnDef="noraidit">
            <th mat-header-cell *matHeaderCellDef> Noraidīt </th>
            <td mat-cell *matCellDef="let pieprasijums"> <button (click)="changeStatus(pieprasijums, false)" mat-flat-button style="height: 27px; width: auto;">Noraidīt</button> </td>
          </ng-container>

          <ng-container matColumnDef="dzest">
            <th mat-header-cell *matHeaderCellDef> Dzēst </th>
            <td mat-cell *matCellDef="let pieprasijums"> <button (click)="deletePieprasijums(pieprasijums.id)" mat-flat-button style="height: 27px; width: auto; background-color:crimson !important;">Dzēst</button> </td>
          </ng-container>
      
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let pieprasijums; columns: displayedColumns;"></tr>
      
        </table>
      </div>
      
</div>